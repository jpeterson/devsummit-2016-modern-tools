<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>6  - Dojo Demo</title>
  <!-- Application-specific CSS should be stored in your applicationâ€™s package to ensure portability and to allow
       the build system to combine & minify it. -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="esri/css/esri.css" />
  <link rel="stylesheet" type="text/css" href="app/css/main.css">
</head>
<body>

  <div id="app-container"></div>

  <!-- dojo.js is an AMD-compliant loader script. It accepts configuration either from a data-dojo-config attribute
       on the `dojo.js` script tag, from a global dojoConfig object (shown here), or from a global `require` object.

       Configuration options for the loader can be viewed at http://dojotoolkit.org/reference-guide/loader/amd.html
       along with a bunch of additional information about its features.

       NOTE: `build.sh` is responsible for removing the "isDebug" flag when deploying to production. If you modify
       this flag at all, you will break the build! -->
  <script>
    (function() {
      var locale = location.search.match(/locale=([\w\-]+)/) ? RegExp.$1 : undefined;
      window.dojoConfig = {
        // Enable the AMD loader
        async: true,
        // Define the base URL for all of our modules and packages
        baseUrl: '.',
        // Enable debugging
        isDebug: true,
        // Register the packages we are going to be using. These same packages should be defined in the
        // build profile in `app.profile.js`.
        packages: [
          // Using a string as a package is shorthand for `{ name: 'app', location: 'app' }`
          'app',
          'dgrid',
          'dijit',
          'dojo',
          'dojox',
          'esri',
          'put-selector',
          'xstyle'
        ],

        // Use the smaller, faster "lite" CSS selector engine, which works in all browsers IE8+
        selectorEngine: 'lite',
        // Fix the loader to use normal AMD resolution of unregistered module paths (relative to `baseUrl`)
        // instead of the legacy Dojo resolution method (relative to the parent directory of `baseUrl`)
        tlmSiblingOfDojo: false
      };
      if (locale) {
        window.dojoConfig.locale = locale;
      }
    }());
  </script>
  <script src="dojo/dojo.js"></script>
  <!-- Load the application. Note that this module ID is hard-coded in build.sh in order to provide
       an optimised build that loads as few as one script for the entire application. If you change the name or
       location of this module, you will need to update build.sh too. -->
  <!-- <script>require([ 'app/main' ]);</script> -->
  <script type="text/javascript">
    require([
      'app/main'
    ],
    function(Controller) {
      Controller.startup();
    });
  </script>
</body>
</html>
